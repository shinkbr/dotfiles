#!/usr/bin/env bash

usage () {
  echo "Usage: $( basename $0 ) <e|d>"
}

if [ "$#" -ne 1 ]; then
  usage
  exit 1
fi

if [ "$1" = "e" ]; then
  cat - | ruby -ruri -ne 'puts URI.encode($_.chomp)'
elif [ "$1" = "d" ]; then
  cat - | ruby -ruri -ne 'puts URI.decode($_.chomp)'
else
  usage
  exit 1
fi